(this.webpackJsonpalgvis=this.webpackJsonpalgvis||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(40),i=n.n(s),c=(n(48),n(43)),l=n(8),o=n(9),u=n(11),h=n(10),d=n(7),p=n(12),v=(n(49),function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(l.a)(this,e),this.value=t,this.patched=n,this.selected=r}),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(l.a)(this,e),this.unsortedArr=Array.from(t,(function(e){return new v(e)})),this.steps=[this.unsortedArr,Array.from(this.unsortedArr,(function(e){return new v(e.value,e.patched,e.selected)}))],this.currentStepIndex=n+1}return Object(o.a)(e,[{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.steps[this.currentStepIndex][e].value;this.steps[this.currentStepIndex][e].value=t,this.steps[this.currentStepIndex][e].patched=!0}},{key:"depatch",value:function(e){this.steps[this.currentStepIndex][e].patched=!1}},{key:"select",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e;n<=t;n++)this.steps[this.currentStepIndex][n].selected=!0}},{key:"deselect",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e;n<=t;n++)this.steps[this.currentStepIndex][n].selected=!1}},{key:"set",value:function(e){for(var t=0;t<e.length;t++)this.steps[this.currentStepIndex][t].value=e[t]}},{key:"delay",value:function(e){this.set(e),this.steps.push(Array.from(this.steps[this.currentStepIndex],(function(e){return new v(e.value,e.patched,e.selected)}))),this.currentStepIndex++}}]),e}(),b=600,g=300,f=10,S=30,y=5,j=10,w=1e3,_=5,x={"Bubble Sort":"let N = arr.length;\nlet swapped;\ndo {\n  swapped = false;\n  // visualize {\n  tracer.select(N - 1);\n  tracer.delay(arr);\n  // }\n  for (let i = 1; i < N; i++) {\n    // visualize {\n    tracer.select(i);\n    tracer.delay(arr);\n    // }\n    if (arr[i - 1] > arr[i]) {\n      const temp = arr[i - 1];\n      arr[i - 1] = arr[i];\n      arr[i] = temp;\n      swapped = true;\n      // visualize {\n      tracer.patch(i - 1, arr[i - 1]);\n      tracer.patch(i, arr[i]);\n      tracer.delay(arr);\n      tracer.depatch(i - 1);\n      tracer.depatch(i);\n      // }\n    }\n    // visualize {\n    tracer.deselect(i);\n    // }\n  }\n  \n  // visualize {\n  tracer.deselect(N - 1);\n  // }\n  N--;\n} while (swapped);","Insertion Sort":"for (let i = 1; i < arr.length; i++) {\n  const key = arr[i];\n  // visualize {\n  tracer.select(i);\n  tracer.delay(arr);\n  // }\n  let j;\n  for (j = i - 1; (j >= 0) && (arr[j] > key); j--) {\n    arr[j + 1] = arr[j];\n    // visualize {\n    tracer.patch(j + 1, arr[j + 1]);\n    tracer.delay(arr);\n    tracer.depatch(j + 1);\n    // }\n  }\n  arr[j + 1] = key;\n  // visualize {\n  tracer.patch(j + 1, arr[j + 1]);\n  tracer.delay(arr);\n  tracer.depatch(j + 1);\n  tracer.deselect(i);\n  // }\n}","Quick Sort":"function partition(arr, low, high) {\n  let i;\n  let j;\n  let s;\n  while (high > low) {\n    i = low;\n    j = high;\n    s = arr[low];\n    while (i < j) {\n      // visualize {\n      tracer.select(high);\n      tracer.select(low);\n      tracer.delay(arr);\n      // }\n      while (arr[j] > s) {\n        // visualize {\n        tracer.select(j);\n        tracer.delay(arr);\n        tracer.deselect(j);\n        // }\n        j--;\n      }\n      arr[i] = arr[j];\n      // visualize {\n      tracer.patch(i, arr[j]);\n      tracer.delay(arr);\n      tracer.depatch(i);\n      // }\n      while (s >= arr[i] && i < j) {\n        // visualize {\n        tracer.select(i);\n        tracer.delay(arr);\n        tracer.deselect(i);\n        // }\n        i++;\n      }\n      arr[j] = arr[i];\n      // visualize {\n      tracer.patch(j, arr[i]);\n      tracer.delay(arr);\n      tracer.depatch(j);\n      tracer.deselect(high);\n      tracer.deselect(low);\n      // }\n    }\n    arr[i] = s;\n    // visualize {\n    tracer.patch(i, s);\n    tracer.delay(arr);\n    tracer.depatch(i);\n    // }\n    partition(arr, low, i - 1);\n    low = i + 1;\n  }\n}\n\nfunction quicksort(arr) {\n  partition(arr, 0, arr.length - 1);\n}\n\nquicksort(arr);"},E=(n(50),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).algs=x,n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.currentAlgTitle!==e.currentAlgTitle}},{key:"render",value:function(){var e=this,t=Object.keys(this.algs).map((function(t){return a.a.createElement("li",{key:t,onClick:function(){return e.props.handleSetAlg(t)},className:t===e.props.currentAlgTitle?"algs-list__item algs-list__item_active":"algs-list__item"},t)}));return a.a.createElement("section",{className:"algs"},a.a.createElement("ul",{className:"algs-list"},t))}}]),t}(a.a.Component));function O(e,t){for(var n=[],r=e||1;r<=(t-e||20);++r)n.push(r);return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}(n),n}function k(e,t){var n=(k.canvas||(k.canvas=document.createElement("canvas"))).getContext("2d");return n.font=t,n.measureText(e).width}var A=n(16),C=n(41),I=n.n(C),N=(n(96),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={fontLoaded:!1},new I.a("PFDinMono").load().then(function(){this.setState({fontLoaded:!0})}.bind(Object(d.a)(n))),n.barPieceHeight=Math.floor(g/n.props.currentStep.length*.8),n.stageRef=a.a.createRef(),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.currentStepIndex!==e.currentStepIndex||this.props.playing!==e.playing||this.props.builded!==e.builded||this.props.stepsCount!==e.stepsCount||this.props.speed!==e.speed||this.state.fontLoaded!==t.fontLoaded}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"charts"},a.a.createElement("div",{className:"charts-convas"},a.a.createElement(A.Stage,{ref:this.stageRef,width:b,height:g},a.a.createElement(A.Layer,null,this.props.currentStep.map((function(t,n){var r=t.value*e.barPieceHeight;return[a.a.createElement(A.Rect,{key:t.value.toString()+"~"+n.toString(),x:f+n*S,y:g-r-23,width:y,height:r,fill:t.patched?"#FF417B":t.selected?"#6641FF":"white",item:t.value,onMouseOver:e.handleBarOver,onMouseOut:e.handleBarOut,cornerRadius:j}),a.a.createElement(A.Text,{text:t.value,fill:"#7E7E7E",x:f+n*S-(Math.floor(k(t.value,"normal normal 12px PFDinMono")/2)-Math.floor(y/2)),y:g-12,fontSize:12,fontFamily:e.state.fontLoaded?"PFDinMono":"Arial"})]}))))),a.a.createElement("div",{className:"charts-btns-wrapper"},a.a.createElement("div",{className:"charts-btns"},a.a.createElement("button",{disabled:!this.props.builded,onClick:this.props.playing?this.props.pause:this.props.resume,className:this.props.playing?"charts-btns__btn charts-btns__btn_pause":"charts-btns__btn charts-btns__btn_start"},this.props.playing?"Pause":"Start"),a.a.createElement("button",{disabled:this.props.builded,onClick:this.props.handleBuildCode,className:this.props.builded?"charts-btns__btn charts-btns__btn_checkmark":"charts-btns__btn charts-btns__btn_stop"},this.props.builded?"Builded":"Build"),a.a.createElement("div",{className:"charts-btns__longrangewrap"},a.a.createElement("span",{className:"charts-btns__longrangetitle"},this.props.currentStepIndex+1,"/",this.props.stepsCount),a.a.createElement("input",{type:"range",className:"charts-btns__longrange",onChange:function(t){return e.props.setStep(Number.parseInt(t.target.value)-1)},value:this.props.currentStepIndex+1,min:"1",max:this.props.stepsCount})),a.a.createElement("div",{className:"charts-btns__rangewrap"},a.a.createElement("span",{className:"charts-btns__rangelbl"},"Speed"),a.a.createElement("div",{className:"charts-btns__rangeinnerwrap"},a.a.createElement("input",{type:"range",className:"charts-btns__range",onChange:function(t){return e.props.setSpeed(t.target.value)},value:this.props.speed,min:"1",max:"10"}))))))}}]),t}(a.a.Component)),z=n(42),B=n.n(z),M=(n(104),n(105),n(106),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"render",value:function(){return a.a.createElement("div",{className:"input-data"},a.a.createElement(B.a,{ref:function(e){return window.AceEditor=e},placeholder:"Write your code here",mode:"javascript",theme:"twilight",name:"blah2",fontSize:14,width:"100%",height:"100vh",onChange:this.props.handleEditorChange,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2}}))}}]),t}(a.a.Component)),T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleBuildCode=function(){var e=window.AceEditor.editor.getValue();try{var t=new Function("tracer","arr",e);n.tracer=new m(n.unsortedArr),t(n.tracer,Object(c.a)(n.unsortedArr)),n.setState({currentStepIndex:0,builded:!0})}catch(r){console.error(r.message)}},n.handleSetAlg=function(e){window.AceEditor.editor.setValue(x[e],1),n.handleBuildCode(),n.setState({currentAlgTitle:e,currentStepIndex:0})},n.handleEditorChange=function(){n.setState({builded:!1,playing:!1})},n.unsortedArr=O(),n.tracer=new m(n.unsortedArr),n.state={currentStepIndex:0,currentAlgTitle:"Bubble Sort",speed:_,playing:!1,builded:!1},n.handleBuildCode=n.handleBuildCode.bind(Object(d.a)(n)),n.handleSetAlg=n.handleSetAlg.bind(Object(d.a)(n)),n.setStep=n.setStep.bind(Object(d.a)(n)),n.setSpeed=n.setSpeed.bind(Object(d.a)(n)),n.next=n.next.bind(Object(d.a)(n)),n.prev=n.prev.bind(Object(d.a)(n)),n.resume=n.resume.bind(Object(d.a)(n)),n.pause=n.pause.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.handleSetAlg("Bubble Sort")}},{key:"setStep",value:function(e){this.setState({currentStepIndex:e})}},{key:"setSpeed",value:function(e){this.setState({speed:e})}},{key:"next",value:function(){return this.pause(),!(this.state.currentStepIndex>=this.tracer.steps.length-1)&&(this.setStep(this.state.currentStepIndex+1),!0)}},{key:"prev",value:function(){return this.pause(),!(this.state.currentStepIndex<=0)&&(this.setStep(this.state.currentStepIndex-1),!0)}},{key:"resume",value:function(){if(this.pause(),this.next()){var e=w/this.state.speed;this.timer=window.setTimeout(this.resume,e),this.setState({playing:!0})}}},{key:"pause",value:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=void 0,this.setState({playing:!1}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E,{currentAlgTitle:this.state.currentAlgTitle,handleSetAlg:this.handleSetAlg}),a.a.createElement(N,{handleBuildCode:this.handleBuildCode,speed:this.state.speed,currentStepIndex:this.state.currentStepIndex,currentStep:this.tracer.steps[this.state.currentStepIndex],stepsCount:this.tracer.steps.length,setSpeed:this.setSpeed,setStep:this.setStep,resume:this.resume,pause:this.pause,prev:this.prev,playing:this.state.playing,builded:this.state.builded}),a.a.createElement(M,{handleEditorChange:this.handleEditorChange}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(T,{ref:function(e){window.algVisApp=e}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,n){e.exports=n(107)},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},96:function(e,t,n){}},[[44,1,2]]]);
//# sourceMappingURL=main.541553bc.chunk.js.map